<!DOCTYPE html><html lang="ja"><head><title>shinyaigeek.dev</title><meta charset="utf8"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"><meta property="og:title" content="shinyaigeek.dev"><meta property="og:site_name" content="shinyaigeek.dev"><meta property="og:locale" content="ja_JP"><meta name="description" content="見習いWeb developer兼大学生のブログ. 主にweb開発の知見について喋ります"><meta property="og:description" content="見習いWeb developer兼大学生のブログ. 主にweb開発の知見について喋ります"><meta property="og:url" content="https://shinyaigeek.dev"><meta name="twitter:site" content="@shinyaigeek"><meta property="og:type" content="website"><meta name="twitter:card" content="summary_large_image"><meta property="og:image" content="https://shinyaigeek-og-image.vercel.app/api/?title=shinyaigeek.dev"><meta name="twitter:image" content="https://shinyaigeek-og-image.vercel.app/api/?title=shinyaigeek.dev"><link rel="icon" type="image/x-icon" href="https://shinyaigeek.dev/assets/static/favicon.ico"><link rel="stylesheet" type="text/css" href="https://shinyaigeek.dev/styles.205c4d88ce50e5b652fc.css"><link rel="stylesheet" type="text/css" href="https://shinyaigeek.dev/a11y-dark.min.css"><link rel="stylesheet" href="https://unpkg.com/github-calendar@latest/dist/github-calendar-responsive.css"><link rel="preload" as="style" href="https://shinyaigeek.dev/a11y-dark.min.css"><link rel="preload" as="style" href="https://shinyaigeek.dev/styles.205c4d88ce50e5b652fc.css"><link rel="preload" as="style" href="https://unpkg.com/github-calendar@latest/dist/github-calendar-responsive.css"><link rel="preload" as="image" href="https://shinyaigeek.dev/assets/static/icon_transparent_header.png"><link rel="alternate" type="application/rss+xml" title="shinyaigeek.dev" href="https://shinyaigeek.dev/rss.xml"></head><body><div id="_app"><div class="r5xxgyg"><div class="hxs2oc3"><div class="t15f2u4l"><a href="/" class="link2Home"><div><img src="/assets/static/icon_transparent_header.png" alt="icon" class="ib360hc" width="36px" height="36px">shinyaigeek.dev</div></a></div><div class="c1508669"><div class="aondxz7"><a href="/" class="link2Home">Blog</a></div><div class="aondxz7"><a href="/profile" id="link2profile">Profile</a></div><div class="aondxz7"><a href="https://github-activity.shinyaigeek.dev/" id="link2activity">Activity</a></div><div class="aondxz7"><a href="mailto:me@shinyaigeek.dev">Contact</a></div></div></div><div class="iqwsz9a"><div><div class="wwfobxt"><img class="bcbq2i4" src="/assets/static/banana.png" alt="banana" width="200px" height="200px"><div class="i1vwknbf srh6bz7"><div class="m1cfivxx"><img src="/assets/static/icon_transparent.png" class="m1gtmmy1" alt="monkey-icon" width="270px" height="270px"></div><div class="e1l513qn"><div class="e1goj3hq"><div class="eiko6kt"><img src="/assets/static/earth.png" alt="earth" width="50px" height="50px"></div></div></div></div><div class="s1gltyp9"><div class="s16alrpi"></div><div class="s16alrpi"></div><div class="s16alrpi"></div><div class="s16alrpi"></div><div class="s16alrpi"></div><div class="s16alrpi"></div><div class="s16alrpi"></div><div class="s16alrpi"></div><div class="s16alrpi"></div><div class="s16alrpi"></div><div class="s16alrpi"></div><div class="s16alrpi"></div><div class="s16alrpi"></div><div class="s16alrpi"></div><div class="s16alrpi"></div><div class="s16alrpi"></div><div class="s16alrpi"></div><div class="s16alrpi"></div><div class="s16alrpi"></div><div class="s16alrpi"></div><div class="s16alrpi"></div><div class="s16alrpi"></div><div class="s16alrpi"></div><div class="s16alrpi"></div><div class="s16alrpi"></div></div></div><div id="home--items"><div class="h44gwzi"><a class="imhxcbr" href="/post/browser-on-browser/"><div class="title">ブラウザの上でブラウザを動かす</div></a><div class="dkzw7m"></div><div class="date">2021/12/10</div><div class="tags"></div><div>自作ブラウザを実装した続きとして, Chrome ブラウザで自作ブラウザを動かす, ということをした際の学習ノートです</div><div class="read--more"><a class="item--home__anchor read--more__anchor" href="/post/browser-on-browser/" tabindex="-1"><div id="more-button" class="bo21hbx">Read</div></a></div></div><div class="h44gwzi"><a class="imhxcbr" href="/post/https://speakerdeck.com/shinyaigeek/jia-su-suruedge-computing"><div class="title">加速するEdge Computing</div></a><div class="dkzw7m"></div><div class="date">2021/11/27</div><div class="tags"></div><div>JSConf JP 2021にてLTさせていただいた時の資料です</div><a href="https://speakerdeck.com/shinyaigeek/jia-su-suruedge-computing" tabindex="-1"><img src="https://files.speakerdeck.com/presentations/557f1c609c98473fa0afd5e21655b199/slide_0.jpg?19661841" alt="加速するEdge Computing" class="ogp" loading="lazy"></a><div class="read--more"><a class="item--home__anchor read--more__anchor" href="https://speakerdeck.com/shinyaigeek/jia-su-suruedge-computing" tabindex="-1"><div id="more-button" class="bo21hbx">Read</div></a></div></div><div class="h44gwzi"><a class="imhxcbr" href="/post/https://speakerdeck.com/shinyaigeek/burauzazuo-rifalsesu-me"><div class="title">ブラウザ作りのすゝめ</div></a><div class="dkzw7m"></div><div class="date">2021/10/26</div><div class="tags"></div><div></div><a href="https://speakerdeck.com/shinyaigeek/burauzazuo-rifalsesu-me" tabindex="-1"><img src="https://files.speakerdeck.com/presentations/f70e84d625ae44949d1a6f6a87909011/slide_0.jpg?19382839" alt="ブラウザ作りのすゝめ" class="ogp" loading="lazy"></a><div class="read--more"><a class="item--home__anchor read--more__anchor" href="https://speakerdeck.com/shinyaigeek/burauzazuo-rifalsesu-me" tabindex="-1"><div id="more-button" class="bo21hbx">Read</div></a></div></div><div class="h44gwzi"><a class="imhxcbr" href="/post/fatsify-header-with-raw-write-to-node-http-on-stream/"><div class="title">fastifyでstreamを配信する時生のnode/httpに書き込むとResponse Headerが書き込まれなくなる問題</div></a><div class="dkzw7m"></div><div class="date">2021/03/21</div><div class="tags"></div><div>Stream を配信する際, `reply.raw.write` を呼び出してしまっていると Header は暗黙的に flush されてしまっており書き込めなくなってしまいます.

workaroundとしては, `reply.raw.write` の前に `reply.raw.setHeader` を呼び出し header の書き込みを fastify に任せるのではなく自分で担ってしまいこれを回避するのが良さそう.</div><div class="read--more"><a class="item--home__anchor read--more__anchor" href="/post/fatsify-header-with-raw-write-to-node-http-on-stream/" tabindex="-1"><div id="more-button" class="bo21hbx">Read</div></a></div></div><div class="h44gwzi"><a class="imhxcbr" href="/post/log-2020/"><div class="title">2020年の振り返りと次やりたいこと</div></a><div class="dkzw7m"></div><div class="date">2020/12/24</div><div class="tags"></div><div>今年の一年を一言で表すと「深化」の一年でした, 去年なあなあで理解していた部分など,　細かく突き詰めて理解できそれを元にわかる領域の問題に対して自分なりの意見考察をもって考えられるようになったような気がします</div><div class="read--more"><a class="item--home__anchor read--more__anchor" href="/post/log-2020/" tabindex="-1"><div id="more-button" class="bo21hbx">Read</div></a></div></div><div class="h44gwzi"><a class="imhxcbr" href="/post/https://speakerdeck.com/shinyaigeek/astwoiziizisitepu-falsekangaetazui-qiang-falsedxwode-ru"><div class="title">ASTをいじいじして僕のかんがえた最強のDXを得る</div></a><div class="dkzw7m"></div><div class="date">2020/10/12</div><div class="tags"></div><div></div><a href="https://speakerdeck.com/shinyaigeek/astwoiziizisitepu-falsekangaetazui-qiang-falsedxwode-ru" tabindex="-1"><img src="https://files.speakerdeck.com/presentations/4de462dfa8914419a9432b5a7e5f2074/slide_0.jpg?16696680" alt="ASTをいじいじして僕のかんがえた最強のDXを得る" class="ogp" loading="lazy"></a><div class="read--more"><a class="item--home__anchor read--more__anchor" href="https://speakerdeck.com/shinyaigeek/astwoiziizisitepu-falsekangaetazui-qiang-falsedxwode-ru" tabindex="-1"><div id="more-button" class="bo21hbx">Read</div></a></div></div><div class="h44gwzi"><a class="imhxcbr" href="/post/introduction-to-AST/"><div class="title">ASTで僕の考えた最強のDXを実現する 〜自分のDXは自分で守っていけ〜</div></a><div class="dkzw7m"></div><div class="date">2020/09/12</div><div class="tags"></div><div>* 難しくない
* 自分のDXを自分で守るというエキサイティングな体験ができる
* 触れる範囲が広がる
* プログラミングをやる限りお世話になる

と良いことづくめで最高なので布教したい

また, このブログは [https://docs.google.com/presentation/d/1Ykka2_NvseClPO2J_oFqRUb_sD6rZfYBU-XWnsdTn9U/edit?usp=sharing](https://docs.google.com/presentation/d/1Ykka2_NvseClPO2J_oFqRUb_sD6rZfYBU-XWnsdTn9U/edit?usp=sharing) の補助資料です. まあこの記事の方を読めば大丈夫です大丈夫です.</div><div class="read--more"><a class="item--home__anchor read--more__anchor" href="/post/introduction-to-AST/" tabindex="-1"><div id="more-button" class="bo21hbx">Read</div></a></div></div><div class="h44gwzi"><a class="imhxcbr" href="/post/https://speakerdeck.com/shinyaigeek/web-frontend-performance-tuning"><div class="title">Web Frontend Performance Tuning</div></a><div class="dkzw7m"></div><div class="date">2020/6/18</div><div class="tags"></div><div>サマーインターン前につよつよになっちゃおうの会でWebフロントエンドのパフォーマンスについてLTした際の資料で</div><a href="https://speakerdeck.com/shinyaigeek/web-frontend-performance-tuning" tabindex="-1"><img src="https://files.speakerdeck.com/presentations/0d49c61a696a4074a475bc4220eea006/slide_0.jpg?15867702" alt="Web Frontend Performance Tuning" class="ogp" loading="lazy"></a><div class="read--more"><a class="item--home__anchor read--more__anchor" href="https://speakerdeck.com/shinyaigeek/web-frontend-performance-tuning" tabindex="-1"><div id="more-button" class="bo21hbx">Read</div></a></div></div><div class="h44gwzi"><a class="imhxcbr" href="/post/log-ca-web-speed-hackathon/"><div class="title">CyberAgent主催『Web Speed Hackathon Online』参加ログ</div></a><div class="dkzw7m"></div><div class="date">2020/04/26</div><div class="tags"></div><div>
この混乱した情勢の中オンラインという形でシステムを整えて実施してくださったCyber Agentの皆さん, ありがとうございました.</div><div class="read--more"><a class="item--home__anchor read--more__anchor" href="/post/log-ca-web-speed-hackathon/" tabindex="-1"><div id="more-button" class="bo21hbx">Read</div></a></div></div><div class="h44gwzi"><a class="imhxcbr" href="/post/how-to-make-economic-ssr-with-clourflareworker/"><div class="title">cloud flare workerで省エネSSRなBlogを目指す</div></a><div class="dkzw7m"></div><div class="date">2020/04/13</div><div class="tags"></div><div>
しかし一回のアクセスごとにexpressが立ち上がると時間がかかる(特にTTFB), そもそも従量課金制なのでアクセスのたびにサーバーを立ち上げるのでなく, 出来るだけキャッシュを効かせたい. 特にこの場合本質となるブログ記事はCMS上にあるのでそこを参照したい.

というのを叶えたく, edge-sideでスクリプトを動かしてキャッシュを動的に管理して更なる最適化を目指す, という取り組みをしてみます.</div><div class="read--more"><a class="item--home__anchor read--more__anchor" href="/post/how-to-make-economic-ssr-with-clourflareworker/" tabindex="-1"><div id="more-button" class="bo21hbx">Read</div></a></div></div><div class="h44gwzi"><a class="imhxcbr" href="/post/remake-blog-with-nextjs-nowsh/"><div class="title">Next.jsとnow.shでブログを新しく作り替えた</div></a><div class="dkzw7m"></div><div class="date">2019/12/14</div><div class="tags"></div><div> 7月8日Next.jsのv9リリースが発表されました。

実はこのブログの前身もNext.jsで書かれていて書いた当時はまだv8でした。でv9リリースからおよそ5ヶ月が経ってやっと、重い腰を上げて自分のブログのアップデートを試みました。
ですが蓋を開けるとあら不思議、あまりの~~クソ~~コードぷりになかなか作業が進まない。
具体的に言ってしまうと@ts-ignoreとanyのオンパレードで下手したらJSのまま作業するよりも酷い代物が出来上がっていました。
そんなものをアップデートしようとしても全然コンパイルが通らず、しかもバカ遅い。
ちなみにこれが書き換える前のlighthouseのスコア、無慈悲な0点に涙を禁じ得ません。
そしてもう何もかもが無理になり一から作り直してしまうことにしました()</div><div class="read--more"><a class="item--home__anchor read--more__anchor" href="/post/remake-blog-with-nextjs-nowsh/" tabindex="-1"><div id="more-button" class="bo21hbx">Read</div></a></div></div><div class="h44gwzi"><a class="imhxcbr" href="/post/what-is-TypeScript-s-reversal/"><div class="title">TypeScriptの反変とどう向き合うか</div></a><div class="dkzw7m"></div><div class="date">2019/08/28</div><div class="tags"></div><div>TypeScript いいですよね、静的型付けにより今あなたが触っているプロジェクトをより安全に進めて行くことができます。
しかしそんな TypeScript さんもなんだこれは、といってしまうような一見よくわからない挙動をすることがあります。
この記事ではその中の一つともいえよう反変について扱っておこうかなと思います。</div><div class="read--more"><a class="item--home__anchor read--more__anchor" href="/post/what-is-TypeScript-s-reversal/" tabindex="-1"><div id="more-button" class="bo21hbx">Read</div></a></div></div><div class="h44gwzi"><a class="imhxcbr" href="/post/composition-react-app-with-react-router/"><div class="title">Reactアプリ小さめ構成with react-router 編</div></a><div class="dkzw7m"></div><div class="date">2019/08/12</div><div class="tags"></div><div>[脱 create-react-app、React アプリの小さめ構築](https://www.shinyaigeek.com/p/22)

この記事を読めば create-react-app なしで react アプリを構築できる様になるのですが、その続きとしてこの記事では react-router について扱おうと思います(開発していて思いの外どぶったので)

react-router のエラー、割とありますよね.
ていうか公式の API なり Document なりがよくわからないって感じはします。
なんかよくわからないけど 404 エラーが出たり、CANNOT GET URL みたいなエラーが出たり、僕もこれでどぶって、いい感じの日本語記事が見つからなかったのもあってじゃあ紹介しておこうかなという感じです。</div><div class="read--more"><a class="item--home__anchor read--more__anchor" href="/post/composition-react-app-with-react-router/" tabindex="-1"><div id="more-button" class="bo21hbx">Read</div></a></div></div><div class="h44gwzi"><a class="imhxcbr" href="/post/without-create-react-app/"><div class="title">脱create-react-app、Reactアプリの小さめ構築</div></a><div class="dkzw7m"></div><div class="date">2019/08/10</div><div class="tags"></div><div>(まあ僕も割とこんな感じだったので人の事は言えませんが)
今回は上記の煽りであ、やばいかもと思った人向けの記事です。
タイトルの通り create-react-app 無しでの React アプリ構築の手順(というか比較的小さい構築)をやっていこうかなと思います。(思ったより適当な日本語記事がなかったので)
webpack,TypeScript あたりを使ってやって行く予定です。
目標は&quot;Hello React&quot;と書き出すとこまでです。
え？？しょぼくない？？と思う方もいると思われますが、これ以降の簡単なアプリ作ったりってのは結構どの記事でもやられているのでそちらを参考にしてほしいなという感じです。

また特にモジュール積みのところでガンガン module についての記事を載せたり、公式のドキュメントを載せていますが、これはイマイチわからない人は読んだ方がいいんじゃない？というくらいの気持ちで載せたので読む体力がないのであれば今は飛ばしても結構かと思われます。いつか思い出した時にでも読んでください。</div><div class="read--more"><a class="item--home__anchor read--more__anchor" href="/post/without-create-react-app/" tabindex="-1"><div id="more-button" class="bo21hbx">Read</div></a></div></div><div class="h44gwzi"><a class="imhxcbr" href="/post/nice-to-meet-you/"><div class="title">初めまして</div></a><div class="dkzw7m"></div><div class="date">2018/10/21</div><div class="tags"></div><div></div><div class="read--more"><a class="item--home__anchor read--more__anchor" href="/post/nice-to-meet-you/" tabindex="-1"><div id="more-button" class="bo21hbx">Read</div></a></div></div></div><div class="p1jwgl6x"></div></div></div><div class="fxlvuz3">Copyright. 2020 Shinyaigeek</div></div></div></body><script defer="" src="https://static.cloudflareinsights.com/beacon.min.js" data-cf-beacon="{&quot;token&quot;: &quot;0893ac88cf0542af88bfd9b93008b408&quot;, &quot;spa&quot;: true}"></script><script defer="" src="https://shinyaigeek.dev/r.505b1eebe770374f3371.js" async=""></script></html>