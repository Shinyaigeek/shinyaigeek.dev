<!DOCTYPE html><html lang="en"><head><title>pnpm outdated command supports JSON format output | shinyaigeek.dev</title><meta charset="utf8"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"><meta property="og:title" content="pnpm outdated command supports JSON format output | shinyaigeek.dev"><meta property="og:site_name" content="shinyaigeek.dev"><meta property="og:locale" content="ja_JP"><meta name="description" content="Web が好きなオタクのブログ. 主にweb開発の知見について喋ります"><meta property="og:description" content="Web が好きなオタクのブログ. 主にweb開発の知見について喋ります"><meta property="og:url" content="https://shinyaigeek.dev/en/post/pnpm-outdated-command-supports-json-format"><meta name="twitter:site" content="@shinyaigeek"><meta property="og:type" content="website"><meta name="twitter:card" content="summary_large_image"><meta property="og:image" content="https://en.shinyaigeek.dev/assets/ogimage/en/pnpm-outdated-command-supports-json-format.png"><meta name="twitter:image" content="https://en.shinyaigeek.dev/assets/ogimage/en/pnpm-outdated-command-supports-json-format.png"><link rel="icon" type="image/x-icon" href="/assets/static/favicon.ico"><link rel="stylesheet" type="text/css" href="/assets/styles.ada9902fc362b01889c3.css"><link rel="stylesheet" type="text/css" href="/assets/static/a11y-dark.min.css"><link rel="stylesheet" href="https://unpkg.com/github-calendar@latest/dist/github-calendar-responsive.css"><link rel="preload" as="style" href="/assets/static/a11y-dark.min.css"><link rel="preload" as="style" href="/assets/styles.ada9902fc362b01889c3.css"><link rel="preload" as="style" href="https://unpkg.com/github-calendar@latest/dist/github-calendar-responsive.css"><link rel="preload" as="image" href="/assets/static/icon_transparent_header.png"><link rel="alternate" type="application/rss+xml" title="shinyaigeek.dev" href="/rss.xml"></head><body><div id="_app"><div class="fmapAu0fpx364Dzl_9z0"><div class="J2e3WZniL57BvLtita5T"><div class="kVHiWHyN1gv5Y41SpACy"><a href="/" class="link2Home"><div><img src="/assets/static/icon_transparent_header.png" alt="icon" class="vwQ8HQPKPoICc2atrDju" width="36px" height="36px">shinyaigeek.dev</div></a></div><div class="hOkVSJvM823tjX0FjgO_"><div class="FpNMxf5Gx0pwkDBdeqif"><details><summary> <span role="img" aria-label="language"><g-emoji fallback-src="/assets/static/earth_africa.png" alias="earth">🌍</g-emoji></span> English</summary><div class="ZAVxrSvsXSeI9pV9Rbax"><a href="http://ja.shinyaigeek.dev/post/pnpm-outdated-command-supports-json-format" class="aYFqAG93sRJ7BJMCPjsa"><span role="img" aria-label="country"><g-emoji fallback-src="/assets/static/jp.png" alias="Japan">🇯🇵</g-emoji></span>日本語</a><a href="https://en.shinyaigeek.dev/post/pnpm-outdated-command-supports-json-format" class="aYFqAG93sRJ7BJMCPjsa undefined"><span role="img" aria-label="country"><span><g-emoji fallback-src="/assets/static/us.png" alias="America">🇺🇸</g-emoji><g-emoji fallback-src="/assets/static/gb.png" alias="United States">🇬🇧</g-emoji></span></span>English</a></div></details></div><div class="FpNMxf5Gx0pwkDBdeqif"><a href="/" class="link2Home">Blog</a></div><div class="FpNMxf5Gx0pwkDBdeqif"><a href="/profile" id="link2profile">Profile</a></div><div class="FpNMxf5Gx0pwkDBdeqif"><a href="https://github-activity.shinyaigeek.dev/" id="link2activity">Activity</a></div></div></div><div class="sxaQUUuymSmhNwqAMaks"><div><details class="h0AHqg9AmVXjXCnYqFqc"><summary class="post--anchor__title" id="post--anchor__title">Table of Contents</summary><a href="#2__0">TL;DR</a><a href="#2__1">What is pnpm?</a><a href="#2__2">What is pnpm outdated command</a><a href="#2__3">Why did we want to support JSON format output in pnpm outdated</a><a href="#2__4">About &lt;code&gt;--format&lt;/code&gt; option</a><a href="#2__5">JSON format output example</a></details><div class="Y8c8TlU3k_Y72ndSGmnk"><h1>pnpm outdated command supports JSON format output</h1><div>2022/11/06</div><div class="BYkaTwWlH4C2pP1hi2JY"><div>Blog</div><div>JavaScript</div><div>TypeScript</div><div>OSS</div></div></div><div class="L6tHhpo3uw534DnsakEH"><h2 id="2__0">TL;DR</h2>
<ul>
<li>pnpm outdated command supports JSON format output</li>
<li>this allows us to make automation process of upgrading dependent packages in a project</li>
<li>I implemented this, so I write a blog post about this</li>
</ul>
<h2 id="2__1">What is pnpm?</h2>
<p><a href="https://pnpm.io/">https://pnpm.io/</a></p>
<p>pnpm is one of the package managers used in Node.js environment.</p>
<p>pnpm uses symlink to provide fast and space-saving download of npm modules. Normally, when you install npm modules in a project, themselves, and all their nested dependencies, are downloaded under <code>node_modules</code>. In the case of pnpm, pnpm will store those modules in a single disk area across projects, and hard links to them will be placed under the project. In addition, when a project depends on a same modules but with different versions, pnpm saves only the differences of updates for each module, instead of installing each one in its entirety. These methods save space and speed up the installation of modules.</p>
<p>Another feature of pnpm is that it boldly adds utility commands and options not found in other package managers.</p>
<p><a href="https://twitter.com/Shinyaigeek/status/1577947254916550656"><img src="../../assets/pnpm-outdated-command-supports-json-format/tweet.png" alt="tweet i have joined pnpm"></a></p>
<p>As a member of pnpm, I have implemented JSON format output for the <code>pnpm outdated</code> command, and I write a blog post about it.</p>
<h2 id="2__2">What is pnpm outdated command</h2>
<p>The <code>pnpm outdated</code> command is used to identify obsolete modules in your project that have been deprecated or have newer versions published.</p>
<p>For example, when I execute <code>pnpm outdated</code> command in shinyaigeek.dev, I get a output like below.</p>
<p><img src="../../../assets/pnpm-outdated-command-supports-json-format/pnpm-outdated.png" alt="result of pnpm outdated"></p>
<p>It also supports output in list format, so that I get an output like below with <code>pnpm outdated --table false</code>.</p>
<p><img src="../../../assets/pnpm-outdated-command-supports-json-format/pnpm-outdated-with-list.png" alt="result of pnpm outdated --table false"></p>
<h2 id="2__3">Why did we want to support JSON format output in pnpm outdated</h2>
<p>the above table and list formats are too human-friendly and it is difficult to automate a process of updating dependent packages with such a formats.
To facilitate automation, JSON format is now also supported as an output format.</p>
<h2 id="2__4">About <code>--format</code> option</h2>
<p>The <code>--format</code> option was added to support JSON format output, but it slightly overlaps with <code>--table {boolean}</code> in terms of responsibilities. Also, since <code>--table</code> takes a boolean value, so it should not be possible to specify output in JSON format with <code>--table</code>, both in terms of naming and functionality. To solve these issues, <code>--format {table | list | json}</code> has been added and <code>--table</code> has been removed. (<a href="https://github.com/pnpm/pnpm/blob/main/packages/plugin-commands-outdated/src/outdated.ts#L43">implementation</a></p>
<h2 id="2__5">JSON format output example</h2>
<p><code>pnpm outdated --format json</code> will produce an output like below.</p>
<pre><code class="hljs language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"uglify-es"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"current"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"3.3.9"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"latest"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"3.3.9"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"wanted"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"3.3.9"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"isDeprecated"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"dependencyType"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"dependencies"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"highlight.js"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"current"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"11.3.1"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"latest"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"11.6.0"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"wanted"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"11.3.1"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"isDeprecated"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"dependencyType"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"dependencies"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"@types/highlight.js"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"current"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"9.12.4"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"latest"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"10.1.0"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"wanted"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"9.12.4"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"isDeprecated"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"dependencyType"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"devDependencies"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  ...
</code></pre>
<p>It looks easy to automate update process. As of 2022/11/06, it has not been released yet, but we expect it in the next minor release.</p></div><div class="XTxSDCE1gmhoF59UaA7g"><div class="mdGYkZO2YHxhxRXU338z"><div class="O6UishUpXe8xGlTrCl8G"><img src="/assets/static/icon_transparent.png" class="J5UgGRYhWe9JWeYlm2bw" alt="monkey-icon" width="270px" height="270px"></div><div class="cab8_7jeBIe5dRHd8ikS"><div class="kEage_DVZV_Stt0z3eAT"><div class="_5U8hWpqU834VUiKxwCpA"><img src="/assets/static/earth.png" alt="earth" width="50px" height="50px"></div></div></div></div><div class="baseprofile"><div class="_pakeuUKwDGIGV1PIDFI">Hi <span role="img" aria-label="wave hand">👋</span> I&#x27;m <span class="zQUgJkaqGKzVRFrvk7mk">Shinobu Hayashi a.k.a Shinyaigeek(しにゃい)</span>.</div><div class="CMC6WyjhCeKfvY5zyyq0"><span data-text="Web Developer" class="v7yavk2O9dr3NZXn186P">Web Developer</span> <g-emoji fallback-src="/assets/static/spider_web.png" alias="spider-web">🕸</g-emoji> / <span data-text="Reliable web Enthusiast" class="v7yavk2O9dr3NZXn186P">Reliable Web Enthusiast</span> <g-emoji fallback-src="/assets/static/fire.png" alias="fire">🔥</g-emoji> </div><div class="gA7tXpIz5V3YPffc9WIr">Faster, Lighter, More accessible, More secure, More productive Web for anyone, anytime , anywhere.</div><div class="v0ZqRqZjlqevKrsWtDTt"><div class="zdvavtYkqc1dXYPR1y0c"><a id="twitter" href="https://twitter.com/Shinyaigeek"><img src="/assets/static/twitter.svg" alt="twitter" width="54px" height="54px"></a></div><div class="zdvavtYkqc1dXYPR1y0c"><a id="github" href="https://github.com/Shinyaigeek"><img src="/assets/static/github.svg" alt="github" width="54px" height="54px"></a></div><div class="zdvavtYkqc1dXYPR1y0c"><a id="linkedin" href="https://www.linkedin.com/in/shinyaigeek/"><img src="/assets/static/linkedin.svg" alt="linkedin" width="54px" height="54px"></a></div></div><div class="l5KzSvykijElHJc7q2c9"><a href="mailto:me@shinyaigeek.dev">Contact Me on Email <g-emoji fallback-src="/assets/static/email.png" alias="email">📧</g-emoji></a></div></div></div></div></div><div class="AJQSVdi_FHylcHDbYLWV">Copyright. 2022 Shinyaigeek</div></div></div></body><script defer="" src="https://static.cloudflareinsights.com/beacon.min.js" data-cf-beacon="{&quot;token&quot;: &quot;0893ac88cf0542af88bfd9b93008b408&quot;, &quot;spa&quot;: true}"></script><script defer="" src="/assets/r.a0d01c88f547277aab5a.js" async=""></script></html>